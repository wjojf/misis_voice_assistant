<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="styles.css">
  <script type="text/javascript" src="/eel.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

</head>

<body>
  <main id="main-holder">
    <h1 id="login-header">Login</h1>

    <div id="login-error-msg-holder">
      <p id="login-error-msg">Invalid username <span id="error-msg-second-line">and/or password</span></p>
    </div>

    <form id="login-form">
      <input type="text" name="username" id="username-field" class="login-form-field" placeholder="m1234567@edu.misis.ru">
      <input type="password" name="password" id="password-field" class="login-form-field" placeholder="Password">
      <input type="submit" value="Login" id="login-form-submit">
    </form>
    <p id='exit_messsage'></p>
    <script>
     
      function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }

      async function save_data(){
        let login = document.getElementById('username-field').value;
        let password = document.getElementById('password-field').value;

        if (login.length != 0 && password.length != 0){
          document.getElementById('exit_messsage').innerHTML = 'Thanks!';
          await eel.save_login(login, password);

        };
      };

      $('#login-form-submit').click(function(){
        save_data();
        return false;
      });

    </script>
  </main>
</body>

</html>